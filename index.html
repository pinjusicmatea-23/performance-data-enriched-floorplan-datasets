<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Architectural Dataset</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/menu.css">
    <link rel="stylesheet" href="css/graph-viewer.css">
    <link rel="stylesheet" href="css/ifc-viewer.css">
    <!-- Three.js CDN for 3D rendering -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r157/three.min.js"></script>
</head>
<body>
    <!-- Header with hamburger menu -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <h1>Architectural Dataset</h1>
            </div>
            <nav class="nav" id="nav">
                <ul class="nav-list">
                    <li><a href="#home" class="nav-link">Home</a></li>
                    <li><a href="pages/blog.html" class="nav-link">Blog</a></li>
                    <li><a href="pages/sources.html" class="nav-link">Sources</a></li>
                    <li><a href="pages/data-usage.html" class="nav-link">Data Usage</a></li>
                    <li><a href="#graphs" class="nav-link">Visualizations</a></li>
                    <li><a href="#ifc-models" class="nav-link">IFC Models</a></li>
                    <li><a href="#download" class="nav-link">Download Dataset</a></li>
                </ul>
            </nav>
            <button class="hamburger" id="hamburger" aria-label="Toggle navigation">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
        </div>
    </header>

    <!-- Main content -->
    <main>
        <!-- Hero section -->
        <section id="home" class="hero">
            <div class="container">
                <h2>Explore Architectural Data</h2>
                <p>Discover and analyze comprehensive architectural datasets with interactive visualizations and downloadable resources.</p>
                <div class="hero-buttons">
                    <a href="#graphs" class="btn btn-primary">View Visualizations</a>
                    <a href="#ifc-models" class="btn btn-primary">Explore 3D Models</a>
                    <a href="#download" class="btn btn-secondary">Download Dataset</a>
                </div>
            </div>
        </section>

        <!-- Project Information Section -->
        <section id="project-info" class="project-info-section">
            <div class="container">
                <h2>Project Workflow</h2>
                <p class="workflow-intro">This research project presents a comprehensive methodology for enriching architectural datasets with performance data. Our workflow integrates IFC building models with energy and daylight analysis to create enhanced datasets for machine learning and architectural research.</p>
                
                <!-- Full-width Workflow Image -->
                <div class="workflow-image-fullwidth">
                    <img src="images/workflow.png" alt="Project Workflow Diagram" class="workflow-diagram-fullwidth" id="workflow-image" onclick="openWorkflowPDF()" title="Click to view detailed documentation (Page 14)" loading="lazy">
                    <p class="image-caption">Comprehensive workflow for performance data enriched floorplan datasets (Click image to view detailed documentation)</p>
                </div>
                
                <!-- Project Highlights Cards -->
                <div class="project-highlights">
                    <div class="highlight-item">
                        <h3>IFC Model Processing</h3>
                        <p>Automated extraction and processing of building geometry from Industry Foundation Classes (IFC) files</p>
                    </div>
                    <div class="highlight-item">
                        <h3>Performance Analysis</h3>
                        <p>Energy simulation and daylight analysis integration across multiple climate zones</p>
                    </div>
                    <div class="highlight-item">
                        <h3>Data Enrichment</h3>
                        <p>Systematic enhancement of architectural datasets with quantified performance metrics</p>
                    </div>
                    <div class="highlight-item">
                        <h3>Research Applications</h3>
                        <p>Machine learning ready datasets for architectural performance prediction and optimization</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- GLB Models Grid Section -->
        <section id="ifc-models" class="ifc-section">
            <div class="container">
                <h2>3D GLB Models Grid (3x2)</h2>
                
                <!-- GLB Grid Viewer Container -->
                <div class="ifc-viewer-container">
                    <iframe 
                        id="ifc-viewer-frame" 
                        class="ifc-viewer-frame" 
                        src="viewers/grid-glb-viewer.html"
                        title="GLB Models Grid Viewer - IAAC Performance Dataset">
                    </iframe>
                </div>


            </div>
        </section>

        <!-- Interactive Graphs Section -->
        <section id="graphs" class="graphs-section">
            <div class="container">
                <h2>Interactive Visualizations</h2>
                <p>Explore architectural adjacency graphs showing spatial relationships within buildings. Pan, zoom, and interact with 37+ graph visualizations.</p>
                <div class="graph-container">
                    <div class="graph-viewer" id="graph-viewer">
                        <div class="graph-placeholder">
                            <p><strong>Loading Building 1006 Adjacency Graph...</strong></p>
                            <p>37+ architectural adjacency graphs available</p>
                            <p>Auto-loading sample visualization on page load</p>
                            <p>Supported features:</p>
                            <ul style="text-align: left; margin-top: 1rem;">
                                <li>Pan and zoom with mouse/touch</li>
                                <li>Search graphs by building number</li>
                                <li>Filter by graph type</li>
                                <li>Random graph exploration</li>
                            </ul>
                        </div>
                    </div>
                    <div class="graph-controls">
                        <button class="btn" onclick="loadGraph('1006_adjacency.html')">Load Building 1006</button>
                        <button class="btn" onclick="loadRandomGraph()">Random Graph</button>
                        <button class="btn secondary" onclick="resetView()">Reset View</button>
                        <button class="btn secondary" onclick="graphManager.showGraphList()">Browse All</button>
                    </div>
                </div>
            </div>
        </section>

        <!-- Data Preview Section -->
        <section id="data-preview" class="data-section">
            <div class="container">
                <h2>Dataset Explorer</h2>
                <p>Interactive preview and filtering of architectural performance data. Use SQL-like queries and filters to explore the dataset.</p>
                
                <div class="data-container">
                    <!-- Query Interface -->
                    <div class="query-panel">
                        <h3>Data Query & Filters</h3>
                        <div class="query-controls">
                            <div class="control-group">
                                <label>SQL-like Query:</label>
                                <input type="text" id="sql-query" placeholder="e.g., SELECT * WHERE apartment_count > 10" class="query-input">
                                <button class="btn" onclick="executeQuery()">Execute Query</button>
                                <button class="btn secondary" onclick="resetQuery()">Reset</button>
                            </div>
                            
                            <div class="filter-row">
                                <div class="filter-group">
                                    <label>Apartment Count:</label>
                                    <div class="range-filter">
                                        <input type="number" id="apartment-min" placeholder="Min" min="1" max="100" onchange="applyFilters()" class="range-input">
                                        <span>-</span>
                                        <input type="number" id="apartment-max" placeholder="Max" min="1" max="100" onchange="applyFilters()" class="range-input">
                                    </div>
                                </div>
                                <div class="filter-group">
                                    <label>Levels Count:</label>
                                    <div class="range-filter">
                                        <input type="number" id="levels-min" placeholder="Min" min="1" max="30" onchange="applyFilters()" class="range-input">
                                        <span>-</span>
                                        <input type="number" id="levels-max" placeholder="Max" min="1" max="30" onchange="applyFilters()" class="range-input">
                                    </div>
                                </div>
                                <div class="filter-group">
                                    <label>Climate Zone:</label>
                                    <select id="climate-filter" onchange="applyFilters()">
                                        <option value="">All Climates</option>
                                    </select>
                                </div>
                            </div>
                            
                            <div class="filter-row">
                                <div class="filter-group">
                                    <label>Analysis Type:</label>
                                    <select id="analysis-filter" onchange="applyFilters()">
                                        <option value="">All Types</option>
                                        <option value="building">Building Info</option>
                                        <option value="windows">Windows Simulation</option>
                                        <option value="rooms">Rooms Simulation</option>
                                    </select>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Data Table -->
                    <div class="data-preview-container">
                        <div class="data-header">
                            <h4>Dataset Preview</h4>
                            <div class="data-actions">
                                <button class="btn secondary" onclick="exportFilteredData('csv')">Export CSV</button>
                                <button class="btn secondary" onclick="exportFilteredData('all')">Export All Datasets</button>
                                <span id="row-count" class="row-counter">Loading...</span>
                            </div>
                        </div>
                        
                        <div class="table-container" id="data-table-container">
                            <p>Dataset will load here...</p>
                        </div>
                    </div>
                    
                    <!-- Quick Examples -->
                    <div class="query-examples">
                        <h4>Quick Query Examples:</h4>
                        <div class="example-buttons">
                            <button class="btn example-btn" onclick="loadExampleQuery('building')">Buildings > 1000 ID</button>
                            <button class="btn example-btn" onclick="loadExampleQuery('energy')">High Energy Performance</button>
                            <button class="btn example-btn" onclick="loadExampleQuery('daylight')">Daylight Analysis</button>
                            <button class="btn example-btn" onclick="loadExampleQuery('climate')">Specific Climate</button>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Download Section -->
        <section id="download" class="download-section">
            <div class="container">
                <h2>Download Dataset</h2>
                <p>Access our comprehensive architectural dataset for research and analysis.</p>
                <div class="download-grid">
                    <div class="download-item">
                        <h3>Full Dataset</h3>
                        <p>Complete architectural dataset with all measurements and metadata.</p>
                        <a href="datasets/full-dataset.zip" class="btn btn-download" download>Download ZIP</a>
                    </div>
                    <div class="download-item">
                        <h3>Sample Data</h3>
                        <p>Sample subset for testing and evaluation purposes.</p>
                        <a href="datasets/sample-data.csv" class="btn btn-download" download>Download CSV</a>
                    </div>
                    <div class="download-item">
                        <h3>Documentation</h3>
                        <p>Data dictionary and usage guidelines.</p>
                        <a href="datasets/documentation.pdf" class="btn btn-download" download>Download PDF</a>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Fullscreen Image Modal -->
    <div id="fullscreen-modal" class="fullscreen-modal" onclick="closeFullscreenImage()">
        <span class="close-fullscreen">&times;</span>
        <img id="fullscreen-image" class="fullscreen-content">
        <div class="fullscreen-caption"></div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Architectural Dataset Project. All rights reserved.</p>
            <div class="footer-links">
                <a href="pages/data-usage.html">Data Usage</a>
                <a href="pages/sources.html">Sources</a>
                <a href="mailto:contact@example.com">Contact</a>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/dataset-explorer.js"></script>
    <script src="js/main.js"></script>
    <script src="js/performance-optimizer.js"></script>
    <script src="js/graph-viewer.js"></script>
    <script src="js/enhanced-graph-loader.js"></script>
    <script src="js/graph-manager.js"></script>
</body>
</html>