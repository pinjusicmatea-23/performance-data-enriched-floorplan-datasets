<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Architectural Dataset</title>
    <link rel="stylesheet" href="css/styles.css">
    <link rel="stylesheet" href="css/menu.css">
    <link rel="stylesheet" href="css/graph-viewer.css">
    <link rel="stylesheet" href="css/ifc-viewer.css">
    <!-- Three.js CDN for 3D rendering -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r157/three.min.js"></script>
</head>
<body>
    <!-- Header with hamburger menu -->
    <header class="header">
        <div class="container">
            <div class="logo">
                <h1>Architectural Dataset</h1>
            </div>
            <nav class="nav" id="nav">
                <ul class="nav-list">
                    <li><a href="#home" class="nav-link">Home</a></li>
                    <li><a href="pages/sources.html" class="nav-link">Sources</a></li>
                    <li><a href="pages/data-usage.html" class="nav-link">Data Usage</a></li>
                    <li><a href="#graphs" class="nav-link">Visualizations</a></li>
                    <li><a href="#ifc-models" class="nav-link">IFC Models</a></li>
                    <li><a href="#download" class="nav-link">Download Dataset</a></li>
                </ul>
            </nav>
            <button class="hamburger" id="hamburger" aria-label="Toggle navigation">
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
                <span class="hamburger-line"></span>
            </button>
        </div>
    </header>

    <!-- Main content -->
    <main>
        <!-- Hero section -->
        <section id="home" class="hero">
            <div class="container">
                <h2>Explore Architectural Data</h2>
                <p>Discover and analyze comprehensive architectural datasets with interactive visualizations and downloadable resources.</p>
                <div class="hero-buttons">
                    <a href="#graphs" class="btn btn-primary">View Visualizations</a>
                    <a href="#ifc-models" class="btn btn-primary">Explore 3D Models</a>
                    <a href="#download" class="btn btn-secondary">Download Dataset</a>
                </div>
            </div>
        </section>

        <!-- Project Information Section -->
        <section id="project-info" class="project-info-section">
            <div class="container">
                <h2>Project Workflow</h2>
                <p class="workflow-intro">This research project presents a comprehensive methodology for enriching architectural datasets with performance data. Our workflow integrates IFC building models with energy and daylight analysis to create enhanced datasets for machine learning and architectural research.</p>
                
                <!-- Full-width Workflow Image -->
                <div class="workflow-image-fullwidth">
                    <img src="images/workflow.png" alt="Project Workflow Diagram" class="workflow-diagram-fullwidth" id="workflow-image" loading="lazy">
                    <p class="image-caption">Comprehensive workflow for performance data enriched floorplan datasets</p>
                </div>
                
                <!-- Project Highlights Cards -->
                <div class="project-highlights">
                    <div class="highlight-item">
                        <h3>IFC Model Processing</h3>
                        <p>Automated extraction and processing of building geometry from Industry Foundation Classes (IFC) files</p>
                    </div>
                    <div class="highlight-item">
                        <h3>Performance Analysis</h3>
                        <p>Energy simulation and daylight analysis integration across multiple climate zones</p>
                    </div>
                    <div class="highlight-item">
                        <h3>Data Enrichment</h3>
                        <p>Systematic enhancement of architectural datasets with quantified performance metrics</p>
                    </div>
                    <div class="highlight-item">
                        <h3>Research Applications</h3>
                        <p>Machine learning ready datasets for architectural performance prediction and optimization</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- GLB Models Grid Section -->
        <section id="ifc-models" class="ifc-section">
            <div class="container">
                <h2>Models preview</h2>
                
                <!-- GLB Grid Viewer Container -->
                <div class="ifc-viewer-container">
                    <iframe 
                        id="ifc-viewer-frame" 
                        class="ifc-viewer-frame" 
                        src="viewers/grid-glb-viewer.html"
                        title="GLB Models Grid Viewer - IAAC Performance Dataset">
                    </iframe>
                </div>


            </div>
        </section>

        <!-- Interactive Graphs Section -->
        <section id="graphs" class="graphs-section">
            <div class="container">
                <h2>Interactive Visualizations</h2>
                <p>Explore architectural adjacency graphs showing spatial relationships within buildings. Pan, zoom, and interact with 37+ graph visualizations.</p>
                <div class="graph-container">
                    <div class="graph-viewer" id="graph-viewer">
                        <div class="graph-placeholder">
                            <p><strong>Loading Building 1006 Adjacency Graph...</strong></p>
                            <p>37+ architectural adjacency graphs available</p>
                            <p>Auto-loading sample visualization on page load</p>
                            <p>Supported features:</p>
                            <ul style="text-align: left; margin-top: 1rem;">
                                <li>Pan and zoom with mouse/touch</li>
                                <li>Search graphs by building number</li>
                                <li>Filter by graph type</li>
                                <li>Random graph exploration</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Data Preview Section -->
        <section id="data-preview" class="data-section">
            <div class="container">
                <h2>Dataset Explorer</h2>
                <p>Interactive preview and filtering of architectural performance data.</p>
                
                <div class="data-container">
                    <!-- Query Interface -->
                    <div class="query-panel">
                        <div class="query-controls">
                            <div class="advanced-filter-container-fullwidth">
                                <div class="filter-selector">
                                    <button type="button" class="dropdown-toggle" id="column-selector-toggle" onclick="toggleColumnSelector()">
                                        <span>Select Columns to Filter</span>
                                        <span class="dropdown-arrow">▼</span>
                                    </button>
                                    <div class="column-dropdown" id="column-dropdown" style="display: none;">
                                        <div class="dataset-section" data-dataset="building">
                                            <h4>Building Info</h4>
                                            <div class="column-list" id="building-columns"></div>
                                        </div>
                                        <div class="dataset-section" data-dataset="rooms">
                                            <h4>Rooms Data</h4>
                                            <div class="column-list" id="rooms-columns"></div>
                                        </div>
                                        <div class="dataset-section" data-dataset="windows">
                                            <h4>Windows Data</h4>
                                            <div class="column-list" id="windows-columns"></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="active-filters" id="active-filters">
                                    <div class="filter-instructions">Select columns above to add filters</div>
                                </div>
                                <div class="filter-actions">
                                    <button class="btn secondary" id="apply-filters-btn" onclick="applyAdvancedFilters()">
                                        <span class="btn-text">Apply Filters</span>
                                        <span class="btn-loading" style="display: none;">Filtering...</span>
                                    </button>
                                    <button class="btn secondary" onclick="clearAllFilters()">Clear All</button>
                                </div>
                            </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Data Table -->
                    <div class="data-preview-container">
                        <div class="data-header">
                            <h4>Dataset Preview</h4>
                            <div class="data-actions">
                                <button class="btn secondary" onclick="exportFilteredData('csv')">Export CSV</button>
                                <button class="btn secondary" onclick="exportFilteredData('all')">Export All Datasets</button>
                                <span id="row-count" class="row-counter">Loading...</span>
                            </div>
                        </div>
                        
                        <div class="table-container" id="data-table-container">
                            <p>Dataset will load here...</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Download Section -->
        <section id="download" class="download-section">
            <div class="container">
                <h2>Download Dataset</h2>
                <p>Access our comprehensive architectural dataset for research and analysis.</p>
                <div class="download-grid">
                    <div class="download-item">
                        <h3>Full Dataset</h3>
                        <p>Complete architectural dataset with all measurements and metadata.</p>
                        <a href="datasets/full-dataset.zip" class="btn btn-download" download>Download ZIP</a>
                    </div>
                    <div class="download-item">
                        <h3>CSV Dataset</h3>
                        <p>Complete dataset in CSV format for data analysis and research.</p>
                        <a href="datasets/csv-dataset.zip" class="btn btn-download" download>Download ZIP</a>
                    </div>
                    <div class="download-item">
                        <h3>Documentation</h3>
                        <p>Data dictionary and usage guidelines.</p>
                        <a href="datasets/documentation.pdf" class="btn btn-download" download>Download PDF</a>
                    </div>
                    <div class="download-item">
                        <h3>Swiss Dwellings</h3>
                        <p>Original Swiss residential building dataset used as foundation.</p>
                        <a href="datasets/swiss-dwellings-v3.0.0.zip" class="btn btn-download" download>Download ZIP</a>
                    </div>
                    <div class="download-item">
                        <h3>IFC</h3>
                        <p>3D building information models in Industry Foundation Classes format.</p>
                        <a href="datasets/ifc.zip" class="btn btn-download" download>Download ZIP</a>
                    </div>
                    <div class="download-item">
                        <h3>Graphs</h3>
                        <p>Interactive adjacency graphs and network visualizations.</p>
                        <a href="datasets/graphs.zip" class="btn btn-download" download>Download ZIP</a>
                    </div>
                </div>
            </div>
        </section>

        <!-- Workflow Process Section -->
        <section id="workflow-process" class="workflow-process-section">
            <div class="container">
                <h2>Dataset Creation Process</h2>
                <p>Our dataset enhancement workflow consists of multiple stages, each building upon established architectural databases and simulation methodologies.</p>
                
                <div class="process-steps">
                    <div class="process-step">
                        <div class="step-number">01</div>
                        <div class="step-content">
                            <h3>Foundation Dataset: Swiss Dwellings</h3>
                            <p>A large dataset of apartment models including aggregated geolocation-based simulation results covering viewshed, natural light, traffic noise, centrality and geometric analysis.</p>
                            <div class="step-details">
                                <ul>
                                    <li>3,000+ residential building units</li>
                                    <li>Detailed room-level spatial data</li>
                                    <li>Authentic Swiss architectural typologies</li>
                                    <li>Custom python node for CSV to geometry</li>
                                </ul>
                                <a href="https://zenodo.org/records/7788422" class="btn btn-secondary" target="_blank" rel="noopener">View Original Dataset →</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="process-step">
                        <div class="step-number">02</div>
                        <div class="step-content">
                            <h3>3D Model</h3>
                            <p>IFC models created with precision and enhanced properties for comprehensive building information modeling.</p>
                            <div class="step-details">
                                <ul>
                                    <li>IFC models with Geometry Gym</li>
                                    <li>Adding properties to IFC</li>
                                    <li>Precise geometry</li>
                                </ul>
                                <a href="https://geometrygym.wordpress.com/" class="btn btn-secondary" target="_blank" rel="noopener">Visit Geometry Gym →</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="process-step">
                        <div class="step-number">03</div>
                        <div class="step-content">
                            <h3>Real World Context</h3>
                            <p>Integration with real-world environmental data to provide comprehensive contextual information for each building.</p>
                            <div class="step-details">
                                <ul>
                                    <li>CityWeft API integration</li>
                                    <li>10 climates/cities coverage</li>
                                    <li>Matching building characteristics with city</li>
                                </ul>
                                <a href="https://www.cityweft.com/" class="btn btn-secondary" target="_blank" rel="noopener">Visit CityWeft →</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="process-step">
                        <div class="step-number">04</div>
                        <div class="step-content">
                            <h3>Performance Simulation</h3>
                            <p>Each building geometry underwent comprehensive environmental performance analysis using industry-standard simulation tools.</p>
                            <div class="step-details">
                                <ul>
                                    <li>Energy demand calculations across climate zones</li>
                                    <li>Daylight factor analysis with high-resolution sensor grids</li>
                                    <li>Solar radiation and sun hour modeling</li>
                                    <li>Window performance optimization studies</li>
                                </ul>
                                <a href="https://www.pollination.solutions/rhino-plugin" class="btn btn-secondary" target="_blank" rel="noopener">Visit Pollination →</a>
                            </div>
                        </div>
                    </div>
                    
                    <div class="process-step">
                        <div class="step-number">05</div>
                        <div class="step-content">
                            <h3>Data Enhancement & Integration</h3>
                            <p>Raw simulation outputs were processed, validated, and integrated with spatial data to create our enriched architectural dataset.</p>
                            <div class="step-details">
                                <ul>
                                    <li>Automated data validation and quality control</li>
                                    <li>Graph network generation for ML applications</li>
                                    <li>Multi-format export (CSV, IFC, JSON)</li>
                                    <li>Interactive visualization creation</li>
                                </ul>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Fullscreen Image Modal -->
    <div id="fullscreen-modal" class="fullscreen-modal" onclick="closeFullscreenImage()">
        <span class="close-fullscreen">&times;</span>
        <img id="fullscreen-image" class="fullscreen-content">
        <div class="fullscreen-caption"></div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <p>&copy; 2025 Architectural Dataset Project. All rights reserved.</p>
            <div class="footer-links">
                <a href="pages/data-usage.html">Data Usage</a>
                <a href="pages/sources.html">Sources</a>
                <a href="mailto:contact@example.com">Contact</a>
            </div>
        </div>
    </footer>

    <!-- Scripts -->
    <script src="js/dataset-explorer.js"></script>
    <script src="js/main.js"></script>
    <script src="js/performance-optimizer.js"></script>
    <script src="js/graph-viewer.js"></script>
    <script src="js/enhanced-graph-loader.js"></script>
    <script src="js/graph-manager.js"></script>
</body>
</html>